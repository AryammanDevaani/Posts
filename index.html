<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AezDez</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@700;900&display=swap" rel="stylesheet">
  <link rel="icon" type="image/png" href="favicon.png">
  <style>
    :root {
      --bg: #243338;
      --text: #ffffff;
      --accent: #ff4242;
      --button-bg: #1a1a1b;
      --button-hover: #2c2c2e;
      --border: #d36767;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      -webkit-font-smoothing: antialiased;
      font-family: 'Inter', sans-serif;
    }

    body {
      background-color: var(--bg);
      color: var(--text);
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
      padding: 4rem 2rem;
      text-align: center;
      overflow: hidden;
    }

    header {
      font-size: 10rem;
      font-weight: 900;
      margin-bottom: 3rem;
      letter-spacing: 0.5px;
    }

    canvas {
      position: absolute;
      top: 0;
      left: 0;
      z-index: 1;
    }

    #games-button,
    #profile-button {
      position: absolute;
      cursor: pointer;
      user-select: none;
      z-index: 2;
    }

    #games-button {
      width: 150px;
      height: 150px;
    }

    #profile-button {
      width: 45px;
      height: 45px;
    }

    #games-button img,
    #profile-button img {
      width: 100%;
      height: 100%;
      object-fit: contain;
    }
  </style>
</head>

<body>
  <header>AezDez</header>
  <div id="games-button"><img src="game-image.png" style="width: 150px; height: 150px;"></div>
  <div id="profile-button"><img src="/profile-image.jpg" style="width: 45px; height: 45px;"></div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/matter-js/0.19.0/matter.min.js"></script>
  <script>
    window.addEventListener('load', () => {
      const { Engine, Render, World, Bodies, Body, Constraint, Mouse, MouseConstraint, Events } = Matter;

      const engine = Engine.create();
      const world = engine.world;

      const render = Render.create({
        element: document.body,
        engine: engine,
        options: {
          width: window.innerWidth,
          height: window.innerHeight,
          wireframes: false,
          background: 'transparent'
        }
      });

      const header = document.querySelector('header');
      const headerRect = header.getBoundingClientRect();
      const eCenterX = headerRect.left + headerRect.width * (4.7 / 6.08);
      const eCenterY = headerRect.top + headerRect.height / 2;

      const anchorPoint = Bodies.circle(eCenterX, eCenterY, 15, {
        isStatic: true,
        render: { fillStyle: '#fff', strokeStyle: '#000', lineWidth: 0 }
      });
      World.add(world, anchorPoint);

      const gamesButton = document.getElementById('games-button');
      const gamesBody = Bodies.rectangle(
        eCenterX - 90,
        eCenterY + 250,
        75,
        106.25,
        { frictionAir: 0.01, restitution: 0.5 }
      );

      const profileButton = document.getElementById('profile-button');
      const profileBody = Bodies.rectangle(
        eCenterX + 90,
        eCenterY + 250,
        45,
        45,
        { frictionAir: 0.01, restitution: 0.5 }
      );

      const gamesConstraint = Constraint.create({
        pointA: { x: eCenterX, y: eCenterY },
        bodyB: gamesBody,
        pointB: { x: 0, y: -75 },
        length: 250,
        stiffness: 0.0005,
        damping: 0.05,
        render: { strokeStyle: '#000', lineWidth: 2 }
      });

      const profileConstraint = Constraint.create({
        pointA: { x: eCenterX, y: eCenterY },
        bodyB: profileBody,
        pointB: { x: 0, y: -22.5 },
        length: 200,
        stiffness: 0.0003,
        damping: 0.05,
        render: { strokeStyle: '#000', lineWidth: 2 }
      });

      World.add(world, [gamesBody, profileBody, gamesConstraint, profileConstraint]);

      function updatePositions() {
        const gamesX = gamesBody.position.x - 75;
        const gamesY = gamesBody.position.y - 75;
        gamesButton.style.left = `${gamesX}px`;
        gamesButton.style.top = `${gamesY}px`;
        gamesButton.style.transform = `rotate(${gamesBody.angle}rad)`;

        const profileX = profileBody.position.x - 22.5;
        const profileY = profileBody.position.y - 22.5;
        profileButton.style.left = `${profileX}px`;
        profileButton.style.top = `${profileY}px`;
        profileButton.style.transform = `rotate(${profileBody.angle}rad)`;
      }

      const mouse = Mouse.create(render.canvas);
      const mouseConstraint = MouseConstraint.create(engine, {
        mouse: mouse,
        constraint: { stiffness: 0.2, render: { visible: false } }
      });
      World.add(world, mouseConstraint);

      gamesButton.addEventListener('click', () => {
        window.location.href = './games';
      });

      profileButton.addEventListener('click', () => {
        window.location.href = 'https://www.x.com/AryammanDevaani';
      });

      Engine.run(engine);
      Render.run(render);

      Events.on(engine, 'afterUpdate', updatePositions);

      window.addEventListener('resize', () => {
        render.canvas.width = window.innerWidth;
        render.canvas.height = window.innerHeight;
        const newHeaderRect = header.getBoundingClientRect();
        const newECenterX = newHeaderRect.left + newHeaderRect.width * (4.7 / 6);
        const newECenterY = newHeaderRect.top + newHeaderRect.height / 2;
        gamesConstraint.pointA.x = newECenterX;
        gamesConstraint.pointA.y = newECenterY;
        profileConstraint.pointA.x = newECenterX;
        profileConstraint.pointA.y = newECenterY;
        Body.setPosition(anchorPoint, { x: newECenterX, y: newECenterY });
      });

      Body.applyForce(gamesBody, gamesBody.position, { x: 0.05, y: 0 });
      Body.applyForce(profileBody, profileBody.position, { x: -0.05, y: 0 });
    });
  </script>
</body>

</html>
